---
title: "Hw2"
output: html_document
---

#Load necessary packages
```{r}

library(ggplot2)
library(dplyr)
library(tidyr)


```
#Exercise 7.3.4

*1. Explore the distribution of each of the x, y, and z variables in diamonds. What do you learn? Think about a diamond and how you might decide which dimension is the length, width, and depth*

```{r}

#Define variables
x <- diamonds$x
y <- diamonds$y
z <- diamonds$z

#Look at basic R histogram to determine bin widths, max/min of x and y, etc.
hist(x, main = "Hist of x in Diamonds")
hist(y, main = "Hist of y in Diamonds")
hist(z, main = "Hist of z in Diamonds")


#Histogram of x
ggplot(diamonds) + 
  geom_histogram(mapping = aes(x = x), binwidth = 0.8) +
  coord_cartesian(xlim = c(0, 60), ylim = c(0, 15000))
#set equal binwidth and x and y axis limits for comparison

#Find outliers
min(x)
max(x)

#Histogram of y
ggplot(diamonds) + 
  geom_histogram(mapping = aes(x = y), binwidth = 0.8) +
  coord_cartesian(xlim = c(0, 60), ylim = c(0, 15000))
#set equal binwidth and x and y axis limits for comparison

#Find outliers
min(y)
max(y)

#Histogram of z
ggplot(diamonds) + 
  geom_histogram(mapping = aes(x = z), binwidth = 0.7) +
  coord_cartesian(xlim = c(0, 60), ylim = c(0, 15000))
#set equal binwidth and x and y axis limits for comparison

#Find outliers
min(z)
max(z)


#Answer found on Internet (overlays the histograms, allows for easier comparison)
diamonds %>%
  mutate(id = row_number()) %>%
  select(x, y, z, id) %>%
  gather(variable, value, -id)  %>%
  ggplot(aes(x = value)) +
  geom_density() +
  geom_rug() +
  facet_grid(variable ~ .)

```
The histograms for x, y and z are all highly right skewed and the shape for each of them is bimodal. The histograms for x and y have very similar shapes. There are outliers for y and z (each variable has a large maximum). The units of measuring length, width and depth are in mm. I would guess that x is length because the maximum of x is 10.74 mm and the maximum of y and z are 60 mm and 31.8 mm respectively. These numbers seem too large to be the length of a diamond. I would guess that y is the width of a diamond because a depth of 60 mm would be an abnormally large diamond. I would guess z is the depth of the diamond.



  *2. Explore the distribution of price. Do you discover anything unusual or surprising? (Hint: Carefully think about the binwidth and make sure you try a wide range of values.)*
```{r}

#Define price variable
price <- diamonds$price

#Check min and max of price
min(price)
max(price)
#Price has a huge range ($326 to $18,823)


#Look at basic R histogram to determine bin widths, max/min of x and y, etc.
hist(price)


#Make histogram and explore bin widths

#bin width of 1000
ggplot(diamonds) + 
 geom_histogram(mapping = aes(x = price), binwidth = 1000) +
 coord_cartesian(xlim = c(0, 20000))

#bin width of 100
ggplot(diamonds) + 
 geom_histogram(mapping = aes(x = price), binwidth = 100) +
 coord_cartesian(xlim = c(0, 20000))
#Note, there is a price gap around $1500-$2000

#Take a closer look at the data
ggplot(diamonds) + 
 geom_histogram(mapping = aes(x = price), binwidth = 10) +
 coord_cartesian(xlim = c(0, 10000))


```
The best looking histogram is using a bin width of 1000. The distribution of price is highly right skewed, which is not surprising beacuse larger diamonds are much more expensive than smaller ones and are rare, so there are not that many diamonds worth such a high price. The curve of best fit for this distribution looks exponenonential.


  However, based on using a bin width of 10, we can get a closer look at the data. We see lots of spikes in prices and the price of ~$1500 has a large gap, which is unsuual. This distribution tells us that there are huge variations in prices for diamonds.
  
  
  
  *How many diamonds are 0.99 carat? How many are 1 carat? What do you think is the cause of the difference?*
  
```{r}


  
```